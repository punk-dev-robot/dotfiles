# Binds, see https://wiki.hyprland.org/Configuring/Binds/ for more
$scripts = $HOME/.config/hypr/scripts
$mainMod = SUPER

# Move focus with mainMod + arrow keys
bind = $mainMod, H, movefocus, l
bind = $mainMod, L, movefocus, r
bind = $mainMod, K, movefocus, u
bind = $mainMod, J, movefocus, d

# floating/tiled
# Workaround for Hyprland 0.53 bug: max_size breaks togglefloating
# https://github.com/hyprwm/Hyprland/discussions/12762
bind = $mainMod, SPACE, exec, $scripts/toggle-float-scratchpad
bind = $mainMod SHIFT, SPACE, exec, hyprtogglefloatingfocus
bind = ALT, SPACE, pin,
bind = ALT, SPACE, exec, notify-send 'Toggled Pin'

# Move windows
bind = $mainMod SHIFT, H, movewindow, l
bind = $mainMod SHIFT, L, movewindow, r
bind = $mainMod SHIFT, K, movewindow, u
bind = $mainMod SHIFT, J, movewindow, d
bind = $mainMod, X, movewindow, mon:+1
bind = $mainMod SHIFT, X, movecurrentworkspacetomonitor, +1

# Focus monitor
bind = $mainMod, grave, focusmonitor, +1
bind = $mainMod ALT, H, focusmonitor, l
bind = $mainMod ALT, L, focusmonitor, r

# Switch virtual desktops with mainMod + [0-9]
# All monitors switch together (virtual-desktops plugin)
bind = $mainMod, 1, vdesk, 1
bind = $mainMod, 2, vdesk, 2
bind = $mainMod, 3, vdesk, 3
bind = $mainMod, 4, vdesk, 4
bind = $mainMod, 5, vdesk, 5
bind = $mainMod, 6, vdesk, 6
bind = $mainMod, 7, vdesk, 7
bind = $mainMod, 8, vdesk, 8
bind = $mainMod, 9, vdesk, 9
bind = $mainMod, 0, vdesk, 10
bind = $mainMod, bracketleft, prevdesk,
bind = $mainMod, bracketright, nextdesk,
bind = $mainMod, TAB, lastdesk,
bind = $mainMod CTRL SHIFT, R, vdeskreset,

# Move window to vdesk and follow
bind = $mainMod SHIFT, 1, movetodesk, 1
bind = $mainMod SHIFT, 2, movetodesk, 2
bind = $mainMod SHIFT, 3, movetodesk, 3
bind = $mainMod SHIFT, 4, movetodesk, 4
bind = $mainMod SHIFT, 5, movetodesk, 5
bind = $mainMod SHIFT, 6, movetodesk, 6
bind = $mainMod SHIFT, 7, movetodesk, 7
bind = $mainMod SHIFT, 8, movetodesk, 8
bind = $mainMod SHIFT, 9, movetodesk, 9
bind = $mainMod SHIFT, 0, movetodesk, 10
bind = $mainMod SHIFT, bracketleft, movetoprevdesk,
bind = $mainMod SHIFT, bracketright, movetonextdesk,

# Move window to vdesk silently (don't follow)
bind = $mainMod CTRL, 1, movetodesksilent, 1
bind = $mainMod CTRL, 2, movetodesksilent, 2
bind = $mainMod CTRL, 3, movetodesksilent, 3
bind = $mainMod CTRL, 4, movetodesksilent, 4
bind = $mainMod CTRL, 5, movetodesksilent, 5
bind = $mainMod CTRL, 6, movetodesksilent, 6
bind = $mainMod CTRL, 7, movetodesksilent, 7
bind = $mainMod CTRL, 8, movetodesksilent, 8
bind = $mainMod CTRL, 9, movetodesksilent, 9
bind = $mainMod CTRL, 0, movetodesksilent, 10
bind = $mainMod CTRL, bracketleft, movetoprevdesksilent,
bind = $mainMod CTRL, bracketright, movetonextdesksilent,

# Submaps
# will switch to a submap called resize
bind=$mainMod,R,submap,resize
submap=resize
  binde=,l,resizeactive,10 0
  binde=,h,resizeactive,-10 0
  binde=,k,resizeactive,0 -10
  binde=,j,resizeactive,0 10
  bind=,escape,submap,reset
submap=reset

binde = $mainMod, left, resizeactive,-50 0
binde = $mainMod, right, resizeactive,50 0
binde = $mainMod, up, resizeactive,0 -50
binde = $mainMod, down, resizeactive,0 50

# Mouse
# Scroll through virtual desktops with mainMod + scroll
bind = $mainMod, mouse_down, nextdesk,
bind = $mainMod, mouse_up, prevdesk,

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
bindl=,switch:off:Lid Switch,exec,hyprctl keyword monitor "eDP-1,preferred,auto,1" && sleep 2 && hyprctl dispatch vdeskreset
bindl=,switch:on:Lid Switch,exec,hyprctl keyword monitor "eDP-1, disable" && sleep 2 && hyprctl dispatch vdeskreset

# Emergency GPU recovery for display crashes (Win+Alt+R is easier to remember)
bind = $mainMod ALT, R, exec, $HOME/.local/bin/gpu-recovery

# Window swapping (master layout)
bind = $mainMod, semicolon, layoutmsg, swapwithmaster auto  # Swap with master
bind = $mainMod, comma, layoutmsg, rollprev                 # Roll stack to left (master stays focused)
bind = $mainMod, period, layoutmsg, rollnext                # Roll stack to right (master stays focused)

