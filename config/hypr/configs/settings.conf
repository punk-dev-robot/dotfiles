# For all categories, see https://wiki.hyprland.org/Configuring/Variables/

# https://wiki.hyprland.org/Configuring/Variables/#general
general {
    allow_tearing = true # This just allows the `immediate` window rule to work
    border_size = 3
    col.active_border = $accent
    col.inactive_border = $overlay0
    gaps_in = 2
    gaps_out = 4
    gaps_workspaces = 50
    no_focus_fallback = true
    layout = workspacelayout  # Uses hyprWorkspaceLayouts plugin
    resize_on_border = true
}

debug {
  disable_logs = false
}

# https://wiki.hyprland.org/Configuring/Variables/#input
input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    numlock_by_default = false
    # 0 - Cursor movement will not change focus.
    # 1 - Cursor movement will always change focus to the window under the cursor.
    # 2 - Cursor focus will be detached from keyboard focus. Clicking on a window will move keyboard focus to that window.
    # 3 - Cursor focus will be completely separate from keyboard focus. Clicking on a window will not change keyboard focus.
    follow_mouse = 1
    follow_mouse_threshold = 1  # Small dead zone to prevent accidental focus
    special_fallthrough = true
    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
    # repeat_rate = 50
    # repeat_delay = 300
    # repeat_delay = 250
    # repeat_rate = 35
    repeat_delay = 600
    repeat_rate = 25

    touchpad {
        natural_scroll = true
        disable_while_typing = true
        clickfinger_behavior = true
        scroll_factor = 0.5
        middle_button_emulation = true
        tap-to-click = true
        drag_lock = true
    }

}

# https://wiki.hyprland.org/Configuring/Variables/#decoration
decoration {
  rounding = 4

  # Dim
  dim_inactive = true
  dim_strength = 0.1
  dim_special = 0.2

  blur {
      enabled = true
      size = 12
      passes = 3
      new_optimizations = true
      ignore_opacity = true
      xray = on
  }

  shadow {
    enabled = false
    ignore_window = true
    # sharp = true
    range = 4
    # range = 20
    offset = 0 2
    render_power = 4

    }
}

# https://wiki.hyprland.org/Configuring/Animations/
animations {
  enabled = yes

  # Snappy and responsive bezier curves
  bezier = snap, 0.2, 0.8, 0.2, 1
  bezier = smoothIn, 0.25, 1, 0.5, 1
  bezier = smoothOut, 0.36, 0, 0.66, -0.56
  bezier = overshot, 0.05, 0.9, 0.1, 1.05

  # Consistent timing (3 speed) for snappy feel
  animation = windows, 1, 3, snap
  animation = windowsIn, 1, 3, snap
  animation = windowsOut, 1, 3, smoothOut
  animation = windowsMove, 1, 3, snap
  animation = border, 1, 2, snap
  animation = borderangle, 1, 180, snap, loop #used by rainbow borders and rotating colors
  animation = fade, 1, 3, snap
  animation = workspaces, 1, 3, snap
  animation = specialWorkspace, 1, 3, snap, slidevert
  animation = hyprfocusIn, 1, 1, smoothIn
  animation = hyprfocusOut, 1, 1, smoothOut
}

# https://wiki.hyprland.org/Configuring/Variables/#misc
misc {
  enable_anr_dialog = false
  disable_hyprland_logo = true
  disable_splash_rendering = true
	vfr = true
  #vrr = 1
  mouse_move_enables_dpms = true
  enable_swallow = true
  # focus_on_activate = true
  focus_on_activate = false
  # no_direct_scanout = true #for fullscreen games
  initial_workspace_tracking = 0
  # middle_click_paste = false
  # allow_session_lock_restore = true
}

# https://wiki.hyprland.org/Configuring/Variables/#binds
binds {
  workspace_back_and_forth = true
  allow_workspace_cycles = true
  pass_mouse_when_bound = false  # if disabled, will not pass the mouse events to apps / dragging windows around if a keybind has been triggered.
  drag_threshold = 10 # Fire a drag event only after dragging for more than 10px
  scroll_event_delay = 0
}

#Could help when scaling and not pixelating
xwayland {
  force_zero_scaling = true
}

cursor {
  no_hardware_cursors = true
  enable_hyprcursor = true
  warp_on_change_workspace = true
}

# Layouts
# https://wiki.hyprland.org/Configuring/Dwindle-Layout/
dwindle {
  # no_gaps_when_only = true
  pseudotile = yes
  preserve_split = yes
	smart_resizing = false
	smart_split = false
  # special_scale_factor = 0.8
}

# https://wiki.hyprland.org/Configuring/Master-Layout/
master {
  orientation = center
  new_status = slave
  slave_count_for_center_master = 0
  smart_resizing = true
  # center_master_slaves_on_right = true
  # allow_small_split = true
  new_on_top = true
  mfact = 0.5
}

# Plugins
plugin {
  virtual-desktops {
    names = 1:1, 2:2, 3:3, 4:4, 5:5, 6:6, 7:7, 8:8, 9:9, 10:10
    cycleworkspaces = 0
    rememberlayout = size  # Adapts to monitor count changes
    notifyinit = 0
    verbose_logging = 0
  }

  wslayout {
    default_layout = dwindle  # Safe default for laptop-only mode
  }

  hyprfocus {
    mode = flash
    only_on_monitor_change = false
    fade_opacity = 0.9
    bounce_strength = 0.95
    slide_height = 20
  }

  hyprwinwrap {
      # class is an EXACT match and NOT a regex!
      class = btm-bg
      # you can also use title
      # title = kitty-bg
      # you can add the position of the window in a percentage
      # pos_x = 25
      # you can add the size of the window in a percentage
      # pos_y = 30
      # size_x = 40
      # size_y = 70
  }
}

# plugin {
#
#   hyprexpo {
#     columns = 3
#     gap_size = 5
#     bg_col = rgb(000000)
#     workspace_method = first 1 # [center/first] [workspace] e.g. first 1 or center m+1 
#     # workspace_method = center current # [center/first] [workspace] e.g. first 1 or center m+1 
#     enable_gesture = false # laptop touchpad
#     gesture_fingers = 3
#     gesture_distance = 300 # how far is the "max"
#     gesture_positive = false
# }
#
# }
#
